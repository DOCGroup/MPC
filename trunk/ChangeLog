Mon Aug 30 19:21:23 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/CDT6ProjectCreator.pm:

          Added the ability to override platform auto-detection using an
          environment variable.

        * modules/ProjectCreator.pm:

          Added pre_write_output_file() as a hook method that can be overriden
          by specific ProjectCreators.

        * modules/VC10ProjectCreator.pm:

          Override pre_write_output_file(), but it doesn't do anything yet.

        * templates/nmake.mpd:

          - Normalized start-of-line whitespace to be a tab for all lines that
            start commands (not inline script files).  Nmake itself doesn't
            care about the start-of-line whitespace but it helps editors.
          - Use /GX- to disable /EHsc when managed.
          - Generate a unique temp file name instead of always using
            tempfile.bat.  There appears to be a bug with nmake on some
            machines where it still has an open file handle and it's trying to
            delete/overwrite the temp file.

Mon Aug 30 15:38:18 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * config/qt4_gui.mpb:

          Some systems with both qt3 and qt4 installed need to run the moc and
          uic tools as "moc-qt4" and "uic-qt4".  Allow this to be enabled by
          setting the QT4_SUFFIX environment variable.

Fri Aug 27 21:34:44 UTC 2010  Brian Johnson  <johnsonb@ociweb.com>

        * templates/automake.mpd:
        * templates/cdt6cproject.mpd:
        * templates/em3.mpd:
        * templates/ghs.mpd:
        * templates/make.mpd:
        * templates/make.net.mpd:
        * templates/nmake.mpd:
        * templates/vc10.mpd:
        * templates/vc6.mpd:
        * templates/vc7.mpd:
        * templates/vc8.mpd:

          Changed to use !need_staticflag to prevent dependent_libs from
          being generated for static projects.

        * templates/wb26wrmakefile.mpd:

          Added dependent_libs keyword handling to wb26.

Fri Aug 27 18:21:22 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/ProjectCreator.pm:

          Warn if an assignment to 'after' contains an invalid project name.

Fri Aug 27 14:59:06 UTC 2010  Chad Elliott  <elliott_c@ociweb.com>

        * modules/GHSProjectCreator.pm:
        * modules/ProjectCreator.pm:
        * modules/VC8ProjectCreator.pm:
        * modules/WB30ProjectCreator.pm:

          Changed post_file_creation() to return an error status.  Returning
          undef indicates no error.  A string returned is used as the error
          message.

          Additionally, a valid_project_name() has been added and the list
          of invalid project name characters has been expanded to cover most
          of those that are not allowed by Visual Studio and those that do
          not work within a makefile.

Thu Aug 26 15:04:04 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/ProjectCreator.pm:

          For types with more than one template, only issue the source_callback
          for the "visible" template.

        * modules/VC8WorkspaceCreator.pm:

          The "temporary hack" for vc10 is no longer needed due to this fix in
          ProjectCreator.pm.

Wed Aug 25 20:56:36 UTC 2010  Brian Johnson  <johnsonb@ociweb.com>

        * modules/ProjectCreator.pm:

          Added dependent_libs keyword to indicate dependency on a
          library.  It is similar to the dependent keyword, but should
          be used to make sure to rebuild the project when a library
          needs to be rebuilt for its dependent executable.

        * modules/TemplateParser.pm:

          - keywords was changed to use flag parameters to identify
          which flags were set for each keyword.  These parameters were
          also used throughout the module instead of hard-coded values.

          - A new flag was added called get_combined_type which indicates
          that the types get_xxx function doesn't have an intermediate
          return value that could be passed back into a doif_xxx function.

          - process_compound_if had functionality added that if there is a
          single cmd (not nested), there is a doif function for the type,
          and if the type doesn't have a combined get function, then the
          cmd is added in a second time into the cmd array, so that the
          first pass the get_xxx function is called and its returned value
          is passed to the doif_xxx function.

          - basename keyword was changed to have bits 1-3 set and the
          appropriate functions were added.

          - dirname was changed to use tp_dirname instead of validated_dirname,
          so that $(...) and ../ are not removed and so that get_dirname
          doesn't call doif_dirname and returns the actual dirname.

          - All get_xxx functions that called their doif_xxx function had the
          get_combined_type bit added, except transdir, which had get_transdir
          changed to return the actual translated directory string.

        * templates/automake.mpd:
        * templates/cdt6cproject.mpd:
        * templates/em3.mpd:
        * templates/ghs.mpd:
        * templates/make.mpd:
        * templates/make.net.mpd:
        * templates/nmake.mpd:
        * templates/vc10.mpd:
        * templates/vc6.mpd:
        * templates/vc7.mpd:
        * templates/vc8.mpd:

          Added dependent_libs functionality.

        * templates/nmake.mpd:

          Added dependent_libs functionality.  Added code for handling
          custom_types for each configuration.

Wed Aug 25 18:36:32 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * docs/templates/vc10.txt:

          Completed all template documenatation for vc10.

        * templates/vc10.mpd:

          Whitespace changes, removed a duplicated section, and changed some
          values that were <%if(x)%>true<%endif%> because the user may
          reasonably want to set them to "false" (since they default to true).

        * templates/vc8csharp.mpd:

          Whitespace changes only.

Tue Aug 24 19:45:29 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * docs/templates/vc10.txt:
        * docs/templates/vc8csharp.txt:

          Documented recent changes that impact template variables.
          The vc10 file was generated by the script so it still has <none>
          placeholders for variables that aren't yet documented.  These should
          be completed before too long.

        * modules/VC10WorkspaceCreator.pm:
        * modules/VC8WorkspaceCreator.pm:
        * modules/VC9WorkspaceCreator.pm:

          Account for differences in the way Website projects are listed in
          the solution files for both vc9 and vc10.

Tue Aug 24 13:57:23 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/WB26WorkspaceCreator.pm:

          Further refinement to the change from
          Fri Jul  9 21:16:23 UTC 2010  Adam Mitz  <mitza@ociweb.com>
          the .lst (list) file will now have relative paths, because Perl's
          Cwd::abs_path() can't be used portably on directories that don't
          exist yet (which is the case with -into).

Mon Aug 23 22:29:24 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * templates/vc8csharp.mpd:

          Support adding a single .manifest file per project in Source_Files
          in C# from Visual Studio 2008 and up (vc9+).

Fri Aug 20 21:40:40 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/ProjectCreator.pm:

          Allow template variables to use an "extended attributes" notation,
          which borrows syntax from what "after" already supports:
            variables += value:attrname1=attrval1[,attrname2=attrval2]...
          The "value" part is referenced in the template as
          <%variable->_default%> and the "attrval" parts are referenced as
          <%variable->attrname1%>.

        * modules/TemplateParser.pm:
        * modules/VC7ProjectCreator.pm:

          Changed the GUID generation algorithm for <%guid%> and <%new_guid%>
          to not use the absoulte path to the workspace.  This allows stable
          GUID generation among different developers and/or moving the
          workspace to a different filesystem location.

        * modules/VC8WorkspaceCreator.pm:

          Use Windows slashes for relative paths in project references.

        * templates/vc10.mpd:

          Support TargetExt when setting a non-standard {lib,dll,exe}_ext.
          OutputFile should not add a \ after $(OutDir) since it already ends
          in a \.  The double-\ confuses .NET project references.
          Added comreferences as a template variable to generate the
          <COMReference> XML element in the vcxproj.  This uses the extended
          attributes support in ProjectCreator.

        * templates/vc8csharp.mpd:

          RootNamespace is set to the project name.
          TargetFrameworkProfile supported as a template variable.
          Added comreference support (similar to vc10.mpd).

Thu Aug 19 21:51:35 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/VC10WorkspaceCreator.pm:
        * modules/VC8WorkspaceCreator.pm:

          Factored-out the C++ project references from vc8 into a separate
          method that's overriden in vc10 to get the new syntax.

        * templates/vc10.mpd:
        * templates/vc10filters.mpd:

          Support for .def, .idl, and .odl files as Source_Files.

          "CLRSupport" removed as a template variable, instead use "managed"
          which is an MPC keyword and gets special treatment from MPC.

          Added an "EmbedManifest" template variable, if it's not set and there
          is a "keyfile", default it to false because signed assemblies can't
          have manifest embedded without invalidating the signature.

          Added project references (filled-in by the WorkspaceCreator).

          Cleaned up the Source_Files section a bit, it was using the
          grouped_source_file outside of any groups.

Wed Aug 18 21:39:36 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * config/mfc.mpb:

          The "subsystem" template variable is a string for vc10 (not an int).

        * templates/vc10.mpd:

          The pch_header can't be listed separately from the other headers
          because unlike earlier versions the same file can't appear twice.
          Added the midl_flags template variable to work like vc8/vc9.

Wed Aug 18 16:10:32 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/ProjectCreator.pm (need_to_write_project):

          Refining the change from Monday
          Mon Aug 16 19:45:17 UTC 2010  Adam Mitz  <mitza@ociweb.com>
          so that the exclusion of resource files from the list of files to
          check only applies to implicitly-created projects.

Tue Aug 17 21:59:04 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * templates/vc10.mpd:
        * templates/vc10filters.mpd:

          Updated with general cleanup and to better match the settings that
          VS2010 generates when creating a C++ project from the GUI.

        * templates/vc10dll.mpt:
        * templates/vc10exe.mpt:
        * templates/vc10lib.mpt:
        * templates/vc10libexe.mpt:
        * templates/vc10platforms.mpt:

          Use EnableIntrinsicFucntions and WholeProgramOptimization for
          Release configurations.  Also, don't disable GenerateDebugInformation
          as this is still used in Release configurations.

Mon Aug 16 19:45:17 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/ProjectCreator.pm (need_to_write_project):

          Do not consider a resource file alone enough to create a project,
          it must have a source or custom-input file.  vc10 requires this
          because it creates resouce files in the intermediate directories,
          which would subsequently be found in an -implicit project search.

Tue Aug 10 21:40:07 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * docs/templates/vc10.txt:

          Added the "managed" variable.

        * modules/VC8WorkspaceCreator.pm:

          Projects references were picking up the .filters file for vc10 instead
          of the normal output file (.vcxproj).  For now this is just a
          work-around to remove ".filters" from the relative path to the
          referenced project.

        * templates/vc10.mpd:

          Allow the use of "managed" as a backwards-compatibility synonym for
          "CLRSupport".
          Re-order the nested <%foreach%> loops so that 'platforms' appears
          before 'configurations' (as it does in vc8.mpd).
          DebugInformationFormat is not supported with CLR/managed.
          FixedBaseAddress is not supported with CLR/managed.
          The list of resource files may contain files that are not actually
          passed to the resource compiler (like icons: .ico).  Exclude those
          from <ResourceCompile> but they will still be listed in the project.

Fri Aug  6 14:12:30 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * docs/html/WB26.html:

          Added documentation for -type wb26, this was contributed by
          Johnny Willemsen  <jwillemsen at remedy dot nl>.

        * templates/wb30dll.mpt:
        * templates/wb30exe.mpt:

          Added dollar-Id-dollar in comments.

Fri Aug  6 00:06:41 UTC 2010  Chad Elliott  <elliott_c@ociweb.com>

        * modules/CDT6ProjectCreator.pm:

          Fixed a bug where the template name, in project_file_name, would
          default to an invalid name if the template name was not defined.

        * templates/make.mpd:

          Modified to use the C compiler to compile assembler files (instead
          of the C++ compiler).

Thu Aug  5 19:57:19 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * templates/make.mpd:
        * templates/makedll.mpt:

          If pchsupport is disabled, don't generate the pch_postrule.
          Also added some Windows native (non-cygwin, non-msys) compatibility
          with -value_template platforms=mingw.

Thu Aug  5 17:00:23 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * docs/html/MakeProjectCreator.html:
        * docs/html/WB30.html:
        * docs/templates/wb26.txt:
        * docs/templates/wb26wrmakefile.txt:
        * docs/templates/wb26wrproject.txt:
        * modules/CDT6WorkspaceCreator.pm:
        * modules/TemplateParser.pm:
        * modules/WB26WorkspaceCreator.pm:
        * modules/WB30ProjectCreator.pm:
        * modules/WB30WorkspaceCreator.pm:
        * templates/wb26.mpd:
        * templates/wb26dll.mpt:
        * templates/wb26wrmakefile.mpd:
        * templates/wb26wrproject.mpd:
        * templates/wb30cproject.mpd:
        * templates/wb30dll.mpt:
        * templates/wb30exe.mpt:

          Merged (reintegrated) the "wb30" branch, which adds -type wb30
          for Wind River Workbench 3.0.  See WB30.html for details.

          This also effectively reverts the commit in
          Fri Jul  9 21:16:23 UTC 2010  Adam Mitz  <mitza@ociweb.com>
          because that change was incorrect (-into shouldn't affect the
          file's contents).

Thu Aug  5 03:49:19 UTC 2010  Chad Elliott  <elliott_c@ociweb.com>

        * config/glib.mpb:
        * config/splice_ts_defaults.mpb:
        * config/splicelib.mpb:
        * config/xerces.mpb:
        * docs/html/CDT6.html:
        * history/ChangeLog-3_7:
        * modules/Creator.pm:
        * modules/MakeProjectBase.pm:
        * modules/MakeProjectCreator.pm:
        * modules/ProjectCreator.pm:
        * modules/VC8WorkspaceCreator.pm:
        * templates/cdt6cproject.mpd:
        * templates/cdt6platforms.mpt:
        * templates/wix.mpd:

          Removed trailing whitespace.

        * docs/html/MakeProjectCreator.html:

          Better explained the TemplateParser 'eval' function and documented
          the new TemplateParser 'set' and 'translate_vars' functions.

        * docs/templates/vc10.txt:

          Started the vc10 template variable documentation.

        * modules/CDT6WorkspaceCreator.pm:

          Use the WorkspaceCreator::create_command_line_string() function
          instead of printing the "$0 @ARGV" string.

        * modules/TemplateParser.pm:

          Replaced the use of die with setting the 'error_in_handle' data
          member to bring errors to the users attention and added the 'set'
          template function.

        * templates/vc10.mpd:

          The OpenMP template variable is interchangable with the
          OpenMPSupport template variable.  Older versions of Visual Studio
          used OpenMP.

Wed Aug  4 20:32:14 UTC 2010  Chris Cleeland  <cleeland@ociweb.com>

        Merged out changes from the Eclipse CDT branch to support
        side-by-side builds from different platforms and configurations
        and to more fully support cross-platform builds.

        * templates/cdt6cproject.mpd:

          Changed postbuild "installation" scripts so that they put
          libraries into platform-config specific subdirectories in order to
          support multiple builds concurrently.

          Added platform-specific lib directory to library paths.

          Omit generation of build information for platforms when a
          project inherits from crosscompile.mpb.

        * modules/CDT6ProjectCreator.pm: Propagated "nocross" template
          variable into CDT6 projects via fill_value.

        * modules/CDT6WorkspaceCreator.pm: Minor changes.

        * modules/TemplateParser.pm:

          Added new keyword/function "vars_equal", to compare the values
          of two template variables for equality.

Wed Aug  4 15:03:50 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * templates/vc10.mpd:
        * templates/vc10dll.mpt:
        * templates/vc10exe.mpt:
        * templates/vc10lib.mpt:
        * templates/vc10libexe.mpt:

          Default GenerateDebugInformation to "true", Release configurations
          will override it to "false".  Use the value of the
          GenerateDebugInformation variable in the template.

Mon Aug  2 15:24:10 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * templates/vc10.mpd:
        * templates/vc10filters.mpd:

          Use <CustomBuild> instead of <CustomBuildStep> for custom actions
          that apply to individual input files (as opposed to the custom
          actions that apply to the project).

Tue Jul 27 15:40:16 UTC 2010  Chris Cleeland  <cleeland@ociweb.com>

        * templates/cdt6cproject.mpd: Added missing space between thread
        flags and pic flags.

Wed Jul 21 20:34:03 UTC 2010  Chris Cleeland  <cleeland@ociweb.com>

        Merge out the following changes from the eclipse branch:

        * templates/cdt6cproject.mpd:
        * templates/cdt6dll.mpt:
        * templates/cdt6platforms.mpt:

          Initial work for supporting a cross-compile platform. Fix for RT
          14228 related to the lack of -fPIC option.

        * templates/cdt6cproject.mpd, templates/cdt6platforms.mpt:

          Fixed issue where linker exe names could not be overridden.

        * docs/html/CDT6.html:

          Update documentation.

Wed Jul 14 05:00:11 UTC 2010  James H. Hill  <hillj at cs dot iupui dot edu>

        * config/wix.mpb:

          Added a prebuild command to delete the old installer before
          building the new installer.

Tue Jul 13 16:38:44 UTC 2010  Chad Elliott  <elliott_c@ociweb.com>

        * modules/TemplateParser.pm:

          Removed tabs.

        * modules/VC10ProjectCreator.pm:

          Fixed a bug relating to the get_template() implementation that
          arose when the language is not C++.

Tue Jul 13 14:37:32 UTC 2010  Johnny Willemsen  <jwillemsen@remedy.nl>

        * modules/TemplateParser.pm:
          Added more support for msvc10 by adding new_guid, thanks to Max Zhou
          <earthdog at 126.com>

Tue Jul 13 14:14:47 UTC 2010  Johnny Willemsen  <jwillemsen@remedy.nl>

        * modules/VC10ProjectCreator.pm:
        * templates/vc10dll.mpt:
        * templates/vc10exe.mpt:
        * templates/vc10lib.mpt:
        * templates/vc10libexe.mpt:
        * templates/vc10platforms.mpt:
          Added more support for msvc10, thanks to Max Zhou
          <earthdog at 126.com>

Tue Jul 13 11:33:37 UTC 2010  Johnny Willemsen  <jwillemsen@remedy.nl>

        * modules/VC10ProjectCreator.pm:
          Updated for msvc10, thanks to Max Zhou <earthdog at 126.com>

Tue Jul 13 11:20:59 UTC 2010  Johnny Willemsen  <jwillemsen@remedy.nl>

        * templates/vc10.mpd:
        * templates/vc10filters.mpd:
          New files for vc10

Fri Jul  9 21:16:23 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/CDT6WorkspaceCreator.pm:
        * modules/WB26WorkspaceCreator.pm:

          Account for the -into directory when listing the full path to
          the project file inside the workspace file.

Tue Jun 29 18:18:56 UTC 2010  Chris Cleeland  <cleeland@ociweb.com>

        * modules/TemplateParser.pm: split_parameters() was returning an
        empty parameter.  This should fix errant extra whitespace
        generated in bmake test output.

Tue Jun 29 14:45:21 UTC 2010  Chris Cleeland  <cleeland@ociweb.com>

        * templates/cdt6platforms.mpt:
        * templates/cdt6dll.mpt:
        * templates/cdt6lib.mpt:
        * templates/cdt6exe.mpt:

          Added missing dollar-Id-dollar to correct fuzz errors.

Tue Jun 29 13:41:39 UTC 2010  Chad Elliott  <elliott_c@ociweb.com>

        * devtools/document_template.pl:

          Fixed the usage message.

Mon Jun 28 20:16:54 UTC 2010  Chris Cleeland  <cleeland@ociweb.com>

        * modules/CDT6ProjectCreator.pm:
        * modules/CDT6WorkspaceCreator.pm:
        * templates/cdt6platforms.mpt:
        * templates/cdt6cproject.mpd:
        * templates/cdt6dll.mpt:
        * templates/cdt6lib.mpt:
        * templates/cdt6exe.mpt:
        * templates/cdt6project.mpd:

          Merged in initial EXPERIMENTAL release of CDT6 project
          type generation from the "eclipse" branch.

        * docs/html/CDT6.html:
        * docs/templates/cdt6project.txt:
        * docs/templates/cdt6cproject.txt:

          Draft documentation on the project type.

        * config/global.mpb:

          Modification to allow specification of threads.

        * devtools/document_template.pl:

          Modified to allow use for generating a stubbed out template
          variable document.

        * modules/TemplateParser.pm:

          Added functions create_aux_file/end_aux_file, translate_vars,
          and convert_slashes.

Mon Jun 28 18:01:08 UTC 2010  James H. Hill  <hillj at cs dot iupui dot edu>

        * modules/WorkspaceCreator.pm:

          Reverted change below.

Mon Jun 28 16:26:00 UTC 2010  James H. Hill  <hillj at cs dot iupui dot edu>

        * modules/WorkspaceCreator.pm:

          Bug fix where the negated types in excludes () were not
          handled correctly.

Mon Jun 28 05:55:54 UTC 2010  James H. Hill  <hillj at cs dot iupui dot edu>

        * templates/wix.mpd:

          The Id attribute for the exename/sharedname was not normalized.

Mon Jun 28 05:42:48 UTC 2010  James H. Hill  <hillj at cs dot iupui dot edu>

        * templates/wix.mpd:

          Bug fix where the generated Id for the File element contained
          invalid characters.

Mon Jun 28 04:46:49 UTC 2010  James H. Hill  <hillj at cs dot iupui dot edu>

        * templates/wix.mpd:

          Bug fix where the File element used the auto-generated Id
          attribute, which resulted in duplicate keys in the installer
          when different project had files with the same name.

Fri Jun 25 21:56:03 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * modules/AutomakeWorkspaceCreator.pm:

          When parsing the .am file, a line with a : is not an explicit target
          if it's a continuation of the previous line (ending with \).

Wed Jun 23 18:08:17 UTC 2010  Johnny Willemsen  <jwillemsen@remedy.nl>

        * config/ndds_ts_defaults.mpb:
          Upgraded TAO version in preparation of the upcoming release

Thu Jun 17 03:32:07 UTC 2010  James H. Hill  <hillj at cs dot iupui dot edu>

        * config/wix.mpb:

          Reverted change below.

Thu Jun 17 03:27:06 UTC 2010  James H. Hill  <hillj at cs dot iupui dot edu>

        * config/wix.mpb:

          Moved the quote tags to a different location.

Mon Jun 14 23:52:33 UTC 2010  James H. Hill  <hillj at cs dot iupui dot edu>

        * templates/wix.mpd:

          Bug fix where invalid Id is generated if the binary's
          name contained a dash.

          Added support for installing GME decorators.

Mon Jun 14 22:06:56 UTC 2010  Chad Elliott  <elliott_c@ociweb.com>

        * modules/ProjectCreator.pm:

          Only replace psuedo variables on actual keywords during variable
          modification.  User defined keywords must not have the parameters
          replaced in order for them to get the correct replacement values
          later on.

Wed Jun  9 07:35:19 UTC 2010  Johnny Willemsen  <jwillemsen@remedy.nl>

        * templates/vc8.mpd:
          Added OptimizeReferences and EnableCOMDATFolding to be setting
          without setting optimize as global flag

Tue Jun  8 16:06:10 UTC 2010  Adam Mitz  <mitza@ociweb.com>

        * MPC version 3.8.0 released.

Local Variables:
mode: change-log
add-log-time-format: (lambda () (progn (setq tz (getenv "TZ")) (set-time-zone-rule "UTC") (setq time (format-time-string "%a %b %e %H:%M:%S %Z %Y" (current-time))) (set-time-zone-rule tz) time))
indent-tabs-mode: nil
End:
