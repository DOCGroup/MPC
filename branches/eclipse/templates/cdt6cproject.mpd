<?xml version="1.0" encoding="UTF-8"?>
<?fileVersion 4.0.0?>
<cproject storage_type_id="org.eclipse.cdt.core.XmlProjectDescriptionStorage">
  <!--
  "storageModule" appears to be a do-all wrapper for aggregating any kind of
  subelement.  Look in org.eclipse.cdt.core.settings.model.ICSettingStorage.java
  -->

<!--
Going to need some sort of set of loops in here as well as some
platform-specific junk.  The junk will have to come from settings in
the mpt file, and some of the "junk" will be things like the
"extensions" as well as the toolchain, etc.  A good example of how to handle
this is vc8platforms.mpt which, according to Chad, does much the same sort
of thing as eclipse with regard to having a lot of target-specific cruft
in the project files, 
-->


  <storageModule moduleId="what.do.I.put.in.here.123456">
<%foreach(platforms)%>
<%foreach(host_platform)%><%comment(there won't be more than one host_platform, but a foreach is used in orded or access scoped assignments from the mpt)%> 
<%foreach(configurations)%>
    <cconfiguration id="mpc.generated.config.<%platform%>.<%configuration%>">
      <!--
      There appears to be one configuration per "style" where "style" is "debug"
      or "release" or whatever.
      -->

      <!--
      Much of the stuff inside here seems pretty platform-specific!
      I'm not sure how to deal with that since one of the primary
      goals is to generate platform-neutral builds.

      I'm wondering if it makes more sense to generate for the
      external make-based builder?
      -->

      <storageModule buildSystemId="what are valid values?"
<extensions>
<%extension%>
</extensions>

<!-- Using host platform: <%host_platform%> with libenv <%libenv%> -->

<%foreach(custom_types)%>
<%foreach(custom_type->input_files)%>
<fileInfo id="mpc.generated.custfile.<%platform%>.<%configuration%>.<%normalize(custom_type)%>.<%normalize(custom_type->input_file)%>"
          name="<%custom_type->input_file%>"
          rcbsApplicability="override" 
          resourcePath="<%custom_type->input_file%>"
          toolsToInvoke="org.eclipse.cdt.managedbuilder.ui.rcbs.467489715">
  <tool announcement="Invoking <%if(flag_overrides(custom_type->input_file, command))%><%flag_overrides(custom_type->input_file, command)%><%else%><%custom_type->command%><%endif%> on <%custom_type->input_file%>"
        command="<%shell%> &quot;<%comment(COMMAND)%><%if(flag_overrides(custom_type->input_file, command))%><%flag_overrides(custom_type->input_file, command)%><%else%><%custom_type->command%><%endif%> <%comment(COMMANDFLAGS)%><%if(flag_overrides(custom_type->input_file, commandflags))%><%flag_overrides(custom_type->input_file, commandflags)%><%else%><%custom_type->commandflags%><%endif%> <%if(custom_type->output_option)%><%comment(with OUTPUT_OPTION)%><%if(starts_with(custom_type->input_file,[$/\\]))%><%custom_type->input_file%><%else%>..<%slash%>..<%slash%><%custom_type->input_file%><%endif%> <%custom_type->output_option%><%foreach(custom_type->input_file->output_files)%> <%if(flag_overrides(custom_type->input_file, gendir))%><%flag_overrides(custom_type->input_file, gendir)%><%slash%><%basename(custom_type->input_file->output_file)%><%else%><%custom_type->input_file->output_file%><%endif%><%endfor%><%else%><%comment(without OUTPUT_OPTION)%><%if(starts_with(custom_type->input_file,[$/\\]))%><%custom_type->input_file%><%else%>..<%slash%>..<%slash%><%custom_type->input_file%><%endif%><%endif%><%comment(POSTCOMMAND)%><%if(flag_overrides(custom_type->input_file, postcommand))%> &amp;&amp; <%flag_overrides(custom_type->input_file, postcommand)%><%else%><%if(custom_type->postcommand)%> &amp;&amp; <%custom_type->postcommand%><%endif%><%endif%>&quot;"
        customBuildStep="true"
        id="mpc.generated.rcbs.<%platform%>.<%configuration%>.<%normalize(custom_type)%>.<%normalize(custom_type->input_file)%>"
        name="Resource Custom Build Step">
<!-- TODO in command: (pre) libpath, mkdir for gendir
                      (post) pch_postrule -->
    <inputType id="mpc.generated.rcbsinput.<%platform%>.<%configuration%>.<%normalize(custom_type)%>.<%normalize(custom_type->input_file)%>"
               name="Resource Custom Build Step Input Type">
      <additionalInput kind="additionalinputdependency"
<%if(flag_overrides(custom_type->input_file, dependent))%>
                       paths="<%foreach(dep, flag_overrides(custom_type->input_file, dependent))%><%dep%><%if(!has_extension(dep))%><%exe_ext%><%endif%><%fornotlast(";")%><%endfor%><%foreach(custom_type->input_file->dependencies)%>;<%custom_type->input_file->dependencie%><%endfor%>"/>
<%else%>
<%if(custom_type->dependent)%>
                       paths="<%foreach(custom_type->dependent)%><%custom_type->dependent%><%if(!has_extension(custom_type->dependent))%><%exe_ext%><%endif%><%fornotlast(";")%><%endfor%><%foreach(custom_type->input_file->dependencies)%>;<%custom_type->input_file->dependencie%><%endfor%>"/>
<%else%>
                       paths="<%foreach(custom_type->input_file->dependencies)%><%custom_type->input_file->dependencie%><%fornotlast(";")%><%endfor%>"/>
<%endif%>
<%endif%>
    </inputType>
    <outputType
      id="mpc.generated.rcbsoutput.<%platform%>.<%configuration%>.<%normalize(custom_type)%>.<%normalize(custom_type->input_file)%>"
      name="Resource Custom Build Step Output Type"
      outputNames="<%foreach(custom_type->input_file->output_files)%><%if(flag_overrides(custom_type->input_file, gendir))%><%flag_overrides(custom_type->input_file, gendir)%><%slash%><%basename(custom_type->input_file->output_file)%><%else%><%custom_type->input_file->output_file%><%endif%><%fornotlast(";")%><%endfor%>"/>
  </tool>
</fileInfo>
<%endfor%><%comment(input file)%>
<%endfor%><%comment(custom type)%>



    </cconfiguration>
<%endfor%><%comment(configurations)%>
<%endfor%><%comment(host_platform)%>
<%endfor%><%comment(platforms)%>
  </storageModule>


</cproject>

